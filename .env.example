APP_NAME="School Procurement System"
APP_ENV=production
APP_KEY=    # Run: php artisan key:generate
APP_DEBUG=false
APP_URL=https://procurement.school.ac.ke    # Set to your actual domain

LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=warning

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=procurement_db
DB_USERNAME=root
DB_PASSWORD=

BROADCAST_DRIVER=log
CACHE_DRIVER=file
FILESYSTEM_DISK=local
QUEUE_CONNECTION=database
SESSION_DRIVER=database
SESSION_LIFETIME=120

# Kenya-Specific Configuration
APP_TIMEZONE=Africa/Nairobi
APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

# Currency Configuration
DEFAULT_CURRENCY=KES
SUPPORTED_CURRENCIES=KES,USD,GBP,EUR

# Tax Configuration (Kenya)
DEFAULT_VAT_RATE=16
DEFAULT_WHT_RATE_SERVICES=5
DEFAULT_WHT_RATE_PROFESSIONAL=5
DEFAULT_WHT_RATE_MANAGEMENT=2
DEFAULT_WHT_RATE_TRAINING=5

# eTIMS Configuration (KRA integration)
# Set ETIMS_ENABLED=true only when your KRA eTIMS credentials are configured.
# ETIMS_ENFORCE_ON_PAYMENT must be false while ETIMS_ENABLED is false — otherwise
# the system will block all payments. Enable both together when going live with KRA.
ETIMS_ENABLED=false
ETIMS_ENFORCE_ON_PAYMENT=false
ETIMS_API_URL=https://etims-sbx.kra.go.ke/api
ETIMS_API_KEY=
ETIMS_PIN=

# PesaPal Payment Gateway
PESAPAL_ENABLED=false
PESAPAL_BASE_URL=https://cybqa.pesapal.com/pesapalv3
PESAPAL_CONSUMER_KEY=
PESAPAL_CONSUMER_SECRET=
PESAPAL_CALLBACK_URL=
PESAPAL_IPN_ID=

# SMS Configuration (Kenya Context)
# SMS_DRIVER options: africastalking | twilio
NOTIFY_SMS_ENABLED=false
SMS_DRIVER=africastalking

# Africa's Talking (default Kenya SMS provider)
# Set AFRICASTALKING_API_URL to https://api.sandbox.africastalking.com/version1/messaging for sandbox testing
AFRICASTALKING_API_KEY=
AFRICASTALKING_USERNAME=sandbox
AFRICASTALKING_SENDER_ID=
AFRICASTALKING_API_URL=https://api.africastalking.com/version1/messaging

# Twilio (alternative SMS provider)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM=

# Email Configuration — replace with your SMTP provider (e.g. SendGrid, Mailgun, SES)
MAIL_MAILER=smtp
MAIL_HOST=smtp.mailtrap.io      # Replace with production SMTP host
MAIL_PORT=587
MAIL_USERNAME=                  # Replace with SMTP username
MAIL_PASSWORD=                  # Replace with SMTP password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="procurement@school.ac.ke"
MAIL_FROM_NAME="${APP_NAME}"

# Notification Preferences
NOTIFY_EMAIL_ENABLED=true

# Procurement Thresholds (KES)
THRESHOLD_HOD_APPROVAL=50000
THRESHOLD_PRINCIPAL_APPROVAL=200000
THRESHOLD_BOARD_APPROVAL=1000000
THRESHOLD_TENDER_REQUIRED=500000

# Seeder — set a strong password before running db:seed in any environment
SEED_DEFAULT_PASSWORD=ChangeMe-BeforeSeeding!

# System Controls
EMERGENCY_PROCUREMENT_ENABLED=true
BUDGET_OVERRUN_ALLOWED=false
SINGLE_SOURCE_ALLOWED=true
SINGLE_SOURCE_REQUIRES_JUSTIFICATION=true

# Audit & Compliance
AUDIT_LOG_RETENTION_DAYS=2555
IMMUTABLE_AUDIT_LOGS=true
AUTO_ARCHIVE_ENABLED=true

# Queue Workers
QUEUE_WORKERS=2
QUEUE_TIMEOUT=3600

# Caching
CACHE_PERMISSIONS=true
CACHE_ROLES=true
CACHE_POLICIES=true
CACHE_EXCHANGE_RATES_MINUTES=1440
